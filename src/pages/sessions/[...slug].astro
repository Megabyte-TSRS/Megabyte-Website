---
import Layout from "../../layouts/Layout.astro";
import { getCollection } from "astro:content";
import AccomplishmentMain from "../../components/AccomplishmentMain.astro";
import SessionPost from "../../components/SessionPost.astro";

// this isnt used??

export async function getStaticPaths() {
  const sessionEntries = await getCollection("sessions");
  return sessionEntries.map((entry) => ({
    params: { slug: entry.slug },
    props: { entry },
  }));
}

const { entry } = Astro.props;

const colours = [
  "#81effc",
  "#ffe81b",
  "#ff7474",
  "#81effc",
  "#ffe81b",
  "#ff7474",
  "#81effc",
  "#ffe81b",
  "#ff7474",
  "#81effc",
  "#ffe81b",
  "#ff7474",
  "#81effc",
  "#ffe81b",
  "#ff7474",
];

const colour = colours[Math.floor(Math.random() * colours.length)];
---

<Layout title="Resources | Megabyte">
  <div class="bg-cube h-full px-8 pt-24 pb-8 sm:pt-36">
    <SessionPost session={entry} tColour={colour} />
  </div>
</Layout>
